<ion-content [fullscreen]="true">
  <app-header></app-header>
  <ion-card class="main-card">
    <ion-grid class="main-grid ion-padding">
      <ion-row>
        <ion-col class="fir-row" size="12">
          <ion-label class="heading">Coupons</ion-label>
          <ion-button routerLink="/addnewcoupan" id="addNewBanner">
            <ion-icon name="add"></ion-icon>
            Add New Coupons
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-grid class="inner-grid">
            <ion-row>
              <ion-col size="4">
                <ion-input (ionInput)="searchByName($event)"
                  placeholder="Enter at least 3 character to search"></ion-input>
              </ion-col>
            </ion-row>
            <ion-row class="tbl-header ion-padding">
              <ion-col size="1">
                <ion-label>
                  Coupan Code
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  Deal Offer
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label>
                  Description
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  Enable
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label>
                  Start Date	
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label>
                  Expiry date
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  Edit
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  Delete
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  Image
                </ion-label>
              </ion-col>
            </ion-row>
            <ion-row class="ion-padding" *ngFor="let val of coupansArray;let i = index">
              <ion-col size="1">
                <ion-label>
                  {{val?.coupanCode}}
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-label>
                  {{val?.offerPercent}}
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label class="bannerFor">
                  {{val?.description || '-'}}
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-toggle [checked]="val?.isEnabled" (ionChange)="enableCoupan(val,$event)" ></ion-toggle>
              </ion-col>
              <ion-col size="2">
                <ion-label class="bannerFor">
                  {{val?.startDate}}
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label class="bannerFor">
                  {{val?.expireDate}}
                </ion-label>
              </ion-col>
              <ion-col size="1">
                <ion-icon (click)=updateCoupan(val) name="create"></ion-icon>
              </ion-col>
              <ion-col size="1">
                <ion-icon (click)="deleteCoupan(i)" name="trash"></ion-icon>
              </ion-col>
               <ion-col size="1">
                <ion-img [src]="val?.image"></ion-img>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>
  <app-footer></app-footer>
</ion-content>