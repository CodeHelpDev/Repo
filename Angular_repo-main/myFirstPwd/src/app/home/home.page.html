<app-header></app-header>

<ion-content [fullscreen]="true">
  <div class="main">
    <ion-img src="../../assets/bgImg.webp" class="mainImg"></ion-img>
    <ion-card>
      <ion-card-header>
        <ion-card-title>Find your right car</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-segment value="custom">
          <ion-segment-button value="custom" (click)="show($event)">
            <ion-label>Custom</ion-label>
          </ion-segment-button>
          <ion-segment-button value="segment" (click)="show($event)">
            <ion-label>Segment</ion-label>
          </ion-segment-button>
        </ion-segment>

        <div class="dropdown brand" *ngIf="value==='custom'">
          <button class="dropbtn">Select Budget
            <ion-icon name="chevron-down-outline"></ion-icon>
          </button>
          <div class="dropdown-content">
            <a href="#">Link 1</a>
            <a href="#">Link 2</a>
            <a href="#">Link 3</a>
          </div>
        </div>
        <div class="dropdown brand topBorder" *ngIf="value==='custom'">
          <button class="dropbtn">All Type Vehicle
            <ion-icon name="chevron-down-outline"></ion-icon>
          </button>
          <div class="dropdown-content">
            <a href="#">Link1</a>
            <a href="#">Link2</a>
            <a href="#">Link3</a>
          </div>
        </div>

        <div class="dropdown brand" *ngIf="value==='segment'">
          <button class="dropbtn">Select Budget
            <ion-icon name="chevron-down-outline"></ion-icon>
          </button>
          <div class="dropdown-content">
            <a href="#">Link 1</a>
            <a href="#">Link 2</a>
            <a href="#">Link 3</a>
          </div>
        </div>
        <div class="dropdown brand topBorder" *ngIf="value==='segment'">
          <button class="dropbtn">Select City
            <ion-icon name="chevron-down-outline"></ion-icon>
          </button>
          <div class="dropdown-content">
            <a href="#">Link1</a>
            <a href="#">Link2</a>
            <a href="#">Link3</a>
          </div>
        </div>








        <ion-button class="searchBtn" color="warning">Search</ion-button>




      </ion-card-content>
    </ion-card>
  </div>
  <app-footer></app-footer>
</ion-content>
<ion-modal trigger="open-modal">

  <ng-template>
    <div class="modal-main-div">
      <div>
        <img src="../../assets/login-banner.svg">
      </div>
      <div class="modal-right-section">

        <div class="right-modal" *ngIf="!mobileNumber">
          <p class="modal-heading">Login or Register</p>
          <ion-text> for Better Experience, Order tracking & regular updates </ion-text>

          <form [formGroup]="loginForm" (ngSubmit)="login(loginForm.value)">
          <ion-input type="number" label="Enter Mobile Number" labelPlacement="floating" formControlName="mobileno" placeholder="+91" maxlength="10"  minlength="10"></ion-input>
          <ion-button type="submit" color="success" [disabled]="!loginForm.valid">Send OTP </ion-button>
          </form>
        </div>

        <div class="right-modal" *ngIf="mobileNumber">
          <p class="modal-heading">OTP Verification</p>
          <ion-text>OTP has been sent to {{mobileNumber.mobileno}} </ion-text>

          <form [formGroup]="otpForm" (ngSubmit)="otpFun(otpForm.value)">
          <ion-input label="Please enter OTP to Verify" labelPlacement="floating" formControlName="otp" placeholder="+91" maxlength="4"  minlength="4"></ion-input>
          <ion-button type="number" color="success" [disabled]="!loginForm.valid">Send OTP </ion-button>
          </form>
        </div>

      </div>
    </div>






  </ng-template>

</ion-modal>
