<ion-header class="ion-no-border" [translucent]="true">
  <ion-toolbar>
    <ion-icon routerLink="/tabs/profile" class="ion-padding" slot="start" name="chevron-back"></ion-icon>
    <ion-title></ion-title>
    <ion-icon class="ion-padding" slot="end" name="search"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="changePasswordForm">
    <ion-grid class="ion-padding main-grid">
      <ion-row>
        <ion-col>
          <ion-label class="main-heading">Settings</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label class="sub-heading">Personal Information</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-input formControlName="name" label="Full name" placeHolder="Full name" labelPlacement="floating"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-input formControlName="dob" type="date" label="Date of Birth" placeHolder="Date of Birth" labelPlacement="floating"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="5">
          <ion-label class="sub-heading">Password</ion-label>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col class="ion-text-right" size="4">
          <ion-text (click)="modalToggle(changePasswordForm.value)">Change</ion-text>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-input value="**********" type="password" label="Password" placeHolder="Password"
            labelPlacement="floating" [readonly]="true"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label class="sub-heading">Notification</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-text-left" size="6">
          <ion-label class="toggle-heading">
            Sales
          </ion-label>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col size="2">
          <ion-toggle></ion-toggle>
        </ion-col>
      </ion-row>
  
      <ion-row>
        <ion-col class="ion-text-left" size="6">
          <ion-label class="toggle-heading">
            New arrivals
          </ion-label>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col size="2">
          <ion-toggle></ion-toggle>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-text-left" size="6">
          <ion-label class="toggle-heading">
            Delivery Status Changes
          </ion-label>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col size="2">
          <ion-toggle></ion-toggle>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-modal
    (ionBreakpointDidChange)="clickModal($event)"
    [isOpen]="isModalOpen"
    [initialBreakpoint]="0.6"
    [breakpoints]="[0.5,0.6]"
  	show-backdrop="true"
    [backdropBreakpoint]="0.5">
    <ng-template>
      <ion-content class="ion-padding modal-content">
        <ion-grid>
          <ion-row>
            <ion-col class="ion-text-center" size="12">
              <ion-label class="sub-heading" >Password Change</ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-input formControlName="oldpassword" placeholder="Old Password"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" class="ion-text-right">
             <ion-label>
              Forget Password ? 
             </ion-label>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-input formControlName="password" placeholder="New Password"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-input formControlName="cpassword" placeholder="Repeat New Password"></ion-input>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-button (click)="changePassword(changePasswordForm.value)" [disabled]="!changePasswordForm.valid" id="psw-btn">
                Save Password
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>    
      </ion-content>
    </ng-template>
  
  </ion-modal>
  <ion-alert
  [isOpen]="isPasswordNotMatched"
  header="Password Not Matched"
  
  message="New Password and Confirm Password Not Matched"
  [buttons]="passwordNotMatched"
></ion-alert>

<ion-alert
[isOpen]="isOldPasswordNotMatched"
header="Invalid Password"

message="Old Password Not Matched"
[buttons]="oldpassword"
></ion-alert>

  </form>
</ion-content>